<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Scheduler</title>

  <!-- FullCalendar styles: using JS-only build, so no CSS link needed -->
  <link rel="stylesheet" href="/css/app.css" />
</head>
<body>
  <div th:fragment="content">
    <h1>Scheduler</h1>
    <button onclick="openScheduleInNewWindow(1)">Pop Out Scheduler</button>

    <div id="calendar"></div>

    <!-- Modal container (empty; we lazy-load the fragment HTML here) -->
    <div id="modal-container"></div>
  </div>

  <!-- Scripts -->
  <script src="/libs/fullcalendar/index.global.min.js"></script>
  <script src="/js/appointment.js"></script>
  <script src="/js/calendar.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // If you route with ?providerId=, we read it; otherwise default to 1
      const urlParams = new URLSearchParams(window.location.search);
      const providerId = parseInt(urlParams.get("providerId")) || 1;
      initSchedulerCalendar(providerId);
    });
  </script>
</body>
</html>